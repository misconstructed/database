#### 8장

##관계형 데이터베이스의 설계

###훌륭한 관계형 설계의 여러 특징들

#### 큰 스키마

- 두 릴레이션을 자연 조인한 결과를 테이블로 사용 = 더 적은 수의 조인을 이용해서 질의를 표현할 수 있음
  - 데이터를 반복해서 저장해야 함
    - 중복된 데이터가 항상 동일한 값을 가져야 함 = 그렇지 않으면 데이터베이스가 일관성을 잃게 됨
  - 데이터를 중복으로 저장해야 하는 위험과, 하나의 튜플만 갱신해서 일관성을 잃게할 위험이 있음
  - 새로운 정보를 추가하고 싶지만, 충분한 데이터가 없어 null값으로 채워서 넣어야 하는 경우 발생

#### 더 작은 스키마

- 중복된 데이터를 찾는 것은 큰 비용이 든다
  - 중복이 없다는 것이 우연 때문인지, 일반벅인 법칙의 경우인지를 결정할 수 없음
- 함수적 종속(functional dependency)
  - 많은 수의 속성들과 다수의 함수 종속을 가지는 스키마에서는 테이블을 분해하는 것은 어려운 작업임
  - 모든 분해가 다 도움이 되는 것은 아님

#### 제 1 정규형(1NF)

- 테이블을 생성할 때 하부구조는 제거

  - 복합 속성에 있어서는 각각의 요소들이 그 자신으로서 하나의 속성이 됨
  - 다중값 속성에 대해서는 다중값 집합에서의 각각의 아이템을 하나의 튜플로 생성

- 도메인은 원자적(atomic)

  - 정수들의 집합은 원자적 도메인
  - 더 작은 부분으로 나누어질 수 있으면 원자성을 갖지 않는다

  - 집합 속성(set valued attribute)을 사용하게 되면 데이터가 중복 저장되는 설계를 초해 = 비일관성(inconsistency)을 초해

- 원자적인 형태에서 원래의 현태로 변환하는데 드는 시간 부담도 있음

#### 제 2정규형(2NF)

- 부분 함수적 종속을 제거 = 모든 컬럼이 완전 함수적 종속성을 만족하는 것
  - 후보식별자의 일부에만 종속적인 관계를 갖는 것
  - x값에 따라 y의 값이 정해지는 경우 x->y
    - y는 x에 대해 함수적 종속
    - x 값이 바뀌면 y 값도 바뀜
    - x : 결정자, y : 종속자
  - {a, b} -> y 에서 a, b 중 하나만 y의 값을 결정하는 경우 부분 함수적 종속

#### 제 3정규형(3NF)

- 이행 함수적 종속 제거
  - x->y->z 인 경우
  - y의 값을 변경하면 z의 값도 함께 변경해야 함 = 갱신 이상이 발생할 수 있음

#### BCNF

- 결정자이면서 후보키가 아닌 것을 제거
- 제 3정규형의 상위 
- 일반 컬럼이 후보키의 값을 결정하는 경우를 제외함