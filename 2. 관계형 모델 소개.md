#### 2장

## 관계형 데이터베이스

### 관계형 데이터베이스의 구조

- 테이블(table)(= 릴레이션, relation)의 모임으로 구성, 고유한 이름을 보유
  - 테이블의 각 행은 일련의 값 사이의 관계(relationship)을 표현
  - 튜플(tuple) : 테이블의 행
    - 릴레이션은 튜플들의 집합이므로, 튜플들이 어떤 순서로 나타나는지는 상관이 없음
  - 속성(attribute) : 테이블의 열
    - 각 속성은 도메인(domain)이라는 허가된 값의 집합을 가지고 있음
    - 모든 속성의 도메인은 원자적(atomic)이어야 함
      - 원자적 : 요소(element)가 더 이상 나누어질 수 없는 단일체
    - null : 알려지지 않거나 존재하지 않는 값을 의미하는 특별한 값

### 데이터베이스 스키마

- 데이터베이스 스키마(database schema) : 데이터베이스의 논리적 설계
  - 프로그래밍 언어에서의 형 정의(type definition)에 해당
- 데이터베이스 인스턴스(database instance) : 어느 한 순간의 데이터베이스에 저장되어 있는 데이터의 스냅샷
  - 프로그래밍 언어의 변수의 값에 해당

### 키

- 슈퍼키(super key) : 해당 튜플을 유일하게 식별할 수 있도록 해주는 하나 혹은 그 이상의 속성들의 집합
  - 속성들의 집합인 R의 부분집합 K가 관계 r의 슈퍼키가 되기 위해서는, 서로 다른 두 튜플의 K의 모든 속성들이 같아서는 안됨
    - t1.K != t2.K
  - 슈퍼키는 관련 없는 속성을 포함할 수 있음
    - K가 슈퍼키면 K를 포함하는 어떠한 집합도 슈퍼키가 될 수 있음
- 후보키(candidate key) : 최소한의 슈퍼키
  - 주키(primary key) : 데이터베이스의 설계자에 의해 선택된 후보키
- 주키, 후보키, 슈퍼키는 튜플의 특성이 아닌 전체 릴레이션의 특성임
- 외래키(foreign key) : r1은 자신의 속성들 가운데 다른 릴레이션 스키마 r2의 주 키를 포함할 수 있음
  - r1은 외래키 종석을 가진 참조하는 릴레이션(referencing relation)
  - r2는 외래키를 가진 참조된 릴레이션(referenced relation)
  - 참조 무결성 제약조건(referential integrity constraints)
    - 참조하는 릴레이션에 있는 튜플의 특정 속성에 나타나는 값은 참조되는 릴레이션에 특정 속성에 최소한 하나의 튜플이 존재해야 함

### 관계형 질의어

- 질의어(query language) : 사용자가 데이터베이스로부터 정보를 요청할 때 사용하는 언어
  - 절차식 언어(procedural language) : 원하는 결과를 얻기 위해 어떠한 연산을 수행해야 할지 사용자가 지정할 수 있음
  - 비정차식 언어(nonprocedural language) : 수행 과정을 제공하지 않고, 어떤 정보를 원하는지에 대해서만 기술함

### 관계 연산

- 연산의 결과는 항상 하나의 릴레이션으로 표현됨
- 조인(join) : 두 릴레이션을 합치는 연산
  - 두 튜플을 하나의 튜플로 합칠 수 있음
  - 자연조인(natural join) : 같은 값을 가지는 튜플을 서로 합침
    - 공통적으로 포함되어 있는 속성의 이름을 합침
  - 카티션 곱(cartesian product) : 두 릴레이션으로부터 가능한 모든 경우를 결과에 포함시킴
- 릴레이션은 집합이기 떄문에 일반적인 집합 연산도 수행 가능함 : 합십합(union), 교집합(intersection), 차집합(set difference) 등

- 관계 대수 : 릴레이션에 수행하는 연산의 집합을 정의
  - n개의 릴레이션을 입력으로 받아서 하나의 릴레이션을 결과로 출력함
  - 선택 연산, 추출 연산, 자연 조인, 카티션 곱, 합집합 등